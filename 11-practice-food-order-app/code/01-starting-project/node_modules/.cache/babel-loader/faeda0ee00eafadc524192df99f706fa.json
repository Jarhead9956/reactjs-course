{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ico\\\\Desktop\\\\Education\\\\UDEMY COURSES\\\\REACT-COURSE\\\\react-complete-guide-code-11-practice-food-order-app\\\\code\\\\01-starting-project\\\\src\\\\components\\\\contexts\\\\orderedMeal-Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderedMealContext = /*#__PURE__*/React.createContext({\n  meals: [],\n  total: 0,\n  onOrder: () => {},\n  onDecreaseAmount: () => {},\n  onIncreaseAmount: () => {},\n  onSendOrder: () => {}\n});\nexport const OrderedMealContextProvider = props => {\n  _s();\n\n  const [ordered, setOrdered] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  const addMealHandler = meal => {\n    setOrdered(prevState => {\n      return [meal, ...prevState];\n    });\n  };\n\n  useEffect(() => {\n    ordered.forEach(meal => {\n      setTotal(prevState => {\n        return prevState + meal.price * meal.amount;\n      });\n    });\n  }, [ordered]);\n\n  const decreaseAmountHandler = mealId => {\n    const items = [...ordered];\n    let mealPrice = 0;\n    items.forEach((meal, indx) => {\n      if (meal.id === mealId) {\n        mealPrice = meal.price;\n        meal.amount--;\n\n        if (meal.amount === 0) {\n          items.splice(indx, 1);\n        }\n      }\n    });\n    setOrdered(items);\n    setTotal(total - mealPrice);\n  };\n\n  const increaseAmountHanndler = mealId => {\n    const items = [...ordered];\n    items.forEach((meal, indx) => {\n      if (meal.id === mealId) {\n        meal.amount++;\n      }\n    });\n    setOrdered(items);\n  };\n\n  const sendOrderHandler = order => {\n    console.log('Order was sended... ');\n    setOrdered([]);\n    setTotal(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(OrderedMealContext.Provider, {\n    value: {\n      meals: ordered,\n      total: total,\n      onOrder: addMealHandler,\n      onDecreaseAmount: decreaseAmountHandler,\n      onIncreaseAmount: increaseAmountHanndler,\n      onSendOrder: sendOrderHandler\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderedMealContextProvider, \"9RhFQ/GASWrQQLvMEgNUfqWWY00=\");\n\n_c = OrderedMealContextProvider;\nexport default OrderedMealContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderedMealContextProvider\");","map":{"version":3,"sources":["C:/Users/Ico/Desktop/Education/UDEMY COURSES/REACT-COURSE/react-complete-guide-code-11-practice-food-order-app/code/01-starting-project/src/components/contexts/orderedMeal-Context.js"],"names":["React","useState","useEffect","OrderedMealContext","createContext","meals","total","onOrder","onDecreaseAmount","onIncreaseAmount","onSendOrder","OrderedMealContextProvider","props","ordered","setOrdered","setTotal","addMealHandler","meal","prevState","forEach","price","amount","decreaseAmountHandler","mealId","items","mealPrice","indx","id","splice","increaseAmountHanndler","sendOrderHandler","order","console","log","children"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\n\r\nconst OrderedMealContext = React.createContext({\r\n    meals: [],\r\n    total: 0,\r\n    onOrder: () => {},\r\n    onDecreaseAmount: () => {},\r\n    onIncreaseAmount: () => {},\r\n    onSendOrder: () => {}\r\n})\r\n\r\nexport const OrderedMealContextProvider = (props) => {\r\n    const [ordered, setOrdered] = useState([])\r\n    const [total, setTotal] = useState(0)\r\n\r\n    const addMealHandler = (meal) => {\r\n        setOrdered((prevState) => {\r\n          return [meal, ...prevState]\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        ordered.forEach((meal) => {\r\n            setTotal(prevState => {\r\n                return prevState + (meal.price * meal.amount)\r\n            })\r\n        })\r\n    }, [ordered])\r\n\r\n    const decreaseAmountHandler = (mealId) => {\r\n        const items = [...ordered]\r\n        let mealPrice = 0\r\n\r\n        items.forEach((meal, indx) => {\r\n            if(meal.id === mealId) {\r\n                mealPrice = meal.price\r\n                meal.amount -- \r\n\r\n                if(meal.amount === 0) {\r\n                    items.splice(indx, 1)\r\n                }\r\n            }\r\n        })\r\n        setOrdered(items)\r\n        setTotal(total - mealPrice)\r\n    }\r\n\r\n    const increaseAmountHanndler = (mealId) => {\r\n        const items = [...ordered]\r\n\r\n        items.forEach((meal, indx) => {\r\n            if(meal.id === mealId) {\r\n               meal.amount ++\r\n            }\r\n        })\r\n        setOrdered(items)\r\n    }\r\n\r\n    const sendOrderHandler = (order) => {\r\n        console.log('Order was sended... ')\r\n        setOrdered([])\r\n        setTotal(0)\r\n    }\r\n\r\n    return(\r\n        <OrderedMealContext.Provider\r\n            value={{\r\n                meals: ordered,\r\n                total: total,\r\n                onOrder: addMealHandler,\r\n                onDecreaseAmount: decreaseAmountHandler,\r\n                onIncreaseAmount: increaseAmountHanndler,\r\n                onSendOrder: sendOrderHandler\r\n            }}\r\n        >\r\n            {props.children}\r\n        </OrderedMealContext.Provider>\r\n    )\r\n}\r\n\r\nexport default OrderedMealContext"]},"metadata":{},"sourceType":"module"}